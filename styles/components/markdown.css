/*///////////////////////////////////////////////////////////////////////////*/
/* markdown.css - Styling for markdown-rendered content                    */
/* Applied to content wrapped in <markdown> tags                            */

markdown {
	display: block;
	font-size: var(--text-base);
	line-height: var(--leading-relaxed);
}

/* Headings */
markdown h1 {
	color: var(--form-text-color);
	font-size: var(--text-4xl);
	font-weight: 600;
	margin-bottom: var(--space-lg);
	margin-top: var(--space-xl);
}

markdown h2 {
	color: var(--form-text-color);
	font-size: var(--text-3xl);
	font-weight: 600;
	margin-bottom: var(--space-md);
	margin-top: var(--space-lg);
}

markdown h3 {
	color: var(--form-text-color);
	font-size: var(--text-2xl);
	font-weight: 600;
	margin-bottom: var(--space-sm);
	margin-top: var(--space-lg);
}

markdown h4 {
	color: var(--form-text-color);
	font-size: var(--text-xl);
	font-weight: 600;
	margin-bottom: var(--space-sm);
	margin-top: var(--space-md);
}

markdown h5 {
	color: var(--form-text-color);
	font-size: var(--text-lg);
	font-weight: 600;
	margin-bottom: var(--space-xs);
	margin-top: var(--space-md);
}

markdown h6 {
	color: var(--form-text-color);
	font-size: var(--text-base);
	font-weight: 600;
	margin-bottom: var(--space-xs);
	margin-top: var(--space-md);
}

/* First heading has no top margin */
markdown h1:first-child,
markdown h2:first-child,
markdown h3:first-child,
markdown h4:first-child,
markdown h5:first-child,
markdown h6:first-child {
	margin-top: 0;
}

/* Paragraphs */
markdown p {
	color: var(--form-text-color);
	margin-bottom: var(--space-md);
}

markdown p:last-child {
	margin-bottom: 0;
}

/* Links */
markdown a {
	color: var(--form-link-color);
	text-decoration: underline;
	transition: color var(--duration-normal) var(--ease-out);
}

markdown a:hover {
	color: var(--form-link-highlight-color);
}

/* Lists */
markdown ul,
markdown ol {
	margin-bottom: var(--space-md);
	margin-left: var(--space-xl);
}

markdown ul {
	list-style-type: disc;
}

markdown ol {
	list-style-type: decimal;
}

markdown li {
	margin-bottom: var(--space-xs);
	padding-left: var(--space-xs);
}

markdown li:last-child {
	margin-bottom: 0;
}

/* Nested lists */
markdown ul ul,
markdown ol ol,
markdown ul ol,
markdown ol ul {
	margin-bottom: var(--space-xs);
	margin-top: var(--space-xs);
}

/* Bold and Italic */
markdown strong {
	font-weight: 700;
}

markdown em {
	font-style: italic;
}

/* Code - Inline code with subtle styling */
markdown code {
	background-color: rgba(0, 0, 0, 0.06);
	border-radius: var(--radius-xs);
	color: #eb5757;
	font-family: "Ubuntu Mono", monospace;
	font-size: 0.9em;
	padding: 2px 6px;
}

/* Code block wrapper for enhanced features */
.code-block-wrapper {
	position: relative;
	margin-bottom: var(--space-md);
}

markdown pre {
	background-color: var(--terminal-background-color);
	border-radius: var(--radius-sm);
	color: var(--terminal-text-color);
	font-family: "Ubuntu Mono", monospace;
	margin-bottom: 0;
	overflow-x: auto;
	padding: var(--space-md);
	padding-top: var(--space-lg);
}

/* Language label */
.code-language-label {
	position: absolute;
	top: 8px;
	right: 8px;
	background-color: rgba(0, 0, 0, 0.3);
	color: #888;
	font-size: 0.75rem;
	font-family: "Ubuntu Mono", monospace;
	padding: 2px 8px;
	border-radius: var(--radius-xs);
	text-transform: uppercase;
	pointer-events: none;
	z-index: 1;
}

/* Copy button */
.code-copy-button {
	position: absolute;
	top: 8px;
	right: 8px;
	background-color: rgba(0, 0, 0, 0.5);
	color: #ccc;
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: var(--radius-xs);
	padding: 4px 10px;
	font-size: 0.8rem;
	font-family: inherit;
	cursor: pointer;
	opacity: 0;
	transition: opacity 0.2s ease, background-color 0.2s ease;
	z-index: 2;
}

.code-block-wrapper:hover .code-copy-button {
	opacity: 1;
}

.code-copy-button:hover {
	background-color: rgba(0, 0, 0, 0.7);
	color: #fff;
}

.code-copy-button:active {
	transform: scale(0.95);
}

.code-copy-button.copied {
	background-color: rgba(0, 150, 0, 0.7);
	color: #fff;
}

/* Adjust positioning when both language and copy button exist */
.code-block-wrapper:has(.code-language-label) .code-copy-button {
	top: 40px;
}

/* Dark mode: Softer inline code, dark fenced blocks */
.dark-mode markdown code {
	background-color: rgba(255, 255, 255, 0.08);
	color: #f48771;
}

.dark-mode markdown pre {
	background-color: #1a1a1a;
	color: #e0e0e0;
}

.dark-mode .code-language-label {
	background-color: rgba(255, 255, 255, 0.1);
	color: #999;
}

.dark-mode .code-copy-button {
	background-color: rgba(255, 255, 255, 0.1);
	color: #ccc;
	border-color: rgba(255, 255, 255, 0.2);
}

.dark-mode .code-copy-button:hover {
	background-color: rgba(255, 255, 255, 0.2);
	color: #fff;
}

.dark-mode .code-copy-button.copied {
	background-color: rgba(0, 200, 0, 0.5);
}

/* Fenced code blocks - override inline code styling */
markdown pre code {
	background-color: transparent !important;
	border-radius: 0;
	color: #d4d4d4;
	padding: 0;
}

/* Blockquotes */
markdown blockquote {
	border-left: 4px solid var(--color-primary-foundation);
	color: var(--form-text-disabled-color);
	font-style: italic;
	margin-bottom: var(--space-md);
	padding-left: var(--space-md);
}

markdown blockquote p {
	margin-bottom: var(--space-sm);
}

markdown blockquote p:last-child {
	margin-bottom: 0;
}

/* Horizontal Rules */
markdown hr {
	border: none;
	border-top: 1px solid var(--outline);
	margin: var(--space-xl) 0;
}

/* Images */
markdown img {
	height: auto;
	max-width: 100%;
}

/* Tables */
markdown table {
	border-collapse: collapse;
	margin-bottom: var(--space-md);
	width: 100%;
}

markdown th,
markdown td {
	border: 1px solid var(--outline);
	padding: var(--space-sm);
	text-align: left;
}

markdown th {
	background-color: var(--form-table-header-background-color);
	color: var(--form-table-header-text-color);
	font-weight: 600;
}

markdown td {
	background-color: var(--form-table-body-background-color);
	color: var(--form-table-body-text-color);
}

/* Strikethrough */
markdown del {
	text-decoration: line-through;
}

/* Task Lists (if supported) */
markdown input[type="checkbox"] {
	margin-right: var(--space-xs);
}

/* Beige mode: Warm subtle inline code styling */
.beige-mode markdown code {
	background-color: rgba(139, 115, 85, 0.08);
	color: #c7523b;
}

/* Beige mode: White text in fenced code blocks */
.beige-mode markdown pre code {
	background-color: transparent !important;
	color: #d4d4d4;
}
